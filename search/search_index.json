{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to PatCit \u00b6 Building a comprehensive dataset of patent citations Patents are at the crossroads of many innovation nodes: science, industry, products, competition, etc. Such interactions can be identified through citations in a broad sense. It is now common to use front-page patent citations to study some aspects of the innovation system. Good news, there is much more buried in the front-page Non Patent Literature ( NPL ) citations and in the patent text itself 1 . patCit extracts and structures these citations. Subscribe to our mailing list Getting started \u00b6 \ud83d\udc69\u200d\ud83d\udd2c Exploring the universe of patent citations has never been easier. No more complicated data set-up, memory issue and queries running for ever, we host patCit on BigQuery for you. We also release public access to quickstart notebooks . \ud83e\udd17 patCit is community driven and benefits from the suppport of a reactive team who is eager happy to help and tackle your next request. This is where academics and industry practitioners meet. \ud83d\udd2e patCit is based on state-of-the-art open source projects and libraries such as grobid / biblio-glutton and spaCy . Even better, patCit is continuously improving with the rest of its ecosystem. \ud83c\udf93 Want to know more? Read patCit academic presentation or dive into usage and technical guides on patCit documentation website . Front page NPL citations contain bibliographical references, office actions, search reports, patents, webpages, wikis, norms & standards, product documentations, databases and litigations. Patent text notably contain citations of patents, NPL , software, databases and products. \u21a9","title":"About"},{"location":"#welcome-to-patcit","text":"Building a comprehensive dataset of patent citations Patents are at the crossroads of many innovation nodes: science, industry, products, competition, etc. Such interactions can be identified through citations in a broad sense. It is now common to use front-page patent citations to study some aspects of the innovation system. Good news, there is much more buried in the front-page Non Patent Literature ( NPL ) citations and in the patent text itself 1 . patCit extracts and structures these citations. Subscribe to our mailing list","title":"Welcome to PatCit"},{"location":"#getting-started","text":"\ud83d\udc69\u200d\ud83d\udd2c Exploring the universe of patent citations has never been easier. No more complicated data set-up, memory issue and queries running for ever, we host patCit on BigQuery for you. We also release public access to quickstart notebooks . \ud83e\udd17 patCit is community driven and benefits from the suppport of a reactive team who is eager happy to help and tackle your next request. This is where academics and industry practitioners meet. \ud83d\udd2e patCit is based on state-of-the-art open source projects and libraries such as grobid / biblio-glutton and spaCy . Even better, patCit is continuously improving with the rest of its ecosystem. \ud83c\udf93 Want to know more? Read patCit academic presentation or dive into usage and technical guides on patCit documentation website . Front page NPL citations contain bibliographical references, office actions, search reports, patents, webpages, wikis, norms & standards, product documentations, databases and litigations. Patent text notably contain citations of patents, NPL , software, databases and products. \u21a9","title":"Getting started"},{"location":"awesome/","text":"Software and Libraries \u00b6 Grobid ( GitHub , Doc , Demo ) is a machine learning library for extracting, parsing and re-structuring raw documents such as PDF into structured XML/TEI encoded documents with a particular focus on technical and scientific publications. First developments started in 2008 as a hobby. In 2011 the tool has been made available in open source. Work on GROBID has been steady as a side project since the beginning and is expected to continue as such. Biblio-glutton ( GitHub ) is a bibliographical reference matching service. From an input such as a raw bibliographical reference and/or a combination of key metadata, the service returns the disambiguated bibliographical object with in particular its DOI and a set of metadata aggregated from Crossref , PUBMED and other awesome bibliographical resources. spaCy ( GitHub , Doc ) is an Industrial-Strength Natural Language Processing Python library. Doccano ( GitHub , Demo ) is an open source text annotation tool for machine learning practitioners. Data \u00b6 Crossref interlinks millions of items from a variety of content types, including journals, books, conference proceedings, working papers, technical reports, and data sets. Linked content includes materials from Scientific, Technical and Medical (STM) and Social Sciences and Humanities (SSH) disciplines. PubMed is a free search engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics. Unpaywall is an open database of 25+ million free scholarly articles. Lens.org is a free and open search platform for patents and scholarly articles. Articles \u00b6 Kevin A. Bryan, Yasin Ozcan, Bhaven Sampat, In-text patent citations: A user's guide , Research Policy, Volume 49, Issue 4, 2020, 103946, ISSN 0048-7333, https://doi.org/10.1016/j.respol.2020.103946 Osmat Jefferson et al. Mapping the global influence of published research on industry and innovation . Nat Biotechnol 36, 31\u201339 (2018). https://doi.org/10.1038/nbt.4049 Matt Marx and Aaron Fuegi , Reliance on Science: Worldwide Front-Page Patent Citations to Scientific Articles (November 15, 2019). Boston University Questrom School of Business Research Paper No. 3331686, http://dx.doi.org/10.2139/ssrn.3331686 Charles Sutton and Andrew McCallum (2012), An Introduction to Conditional Random Fields , Foundations and Trends\u00ae in Machine Learning: Vol. 4: No. 4, pp 267-373. http://dx.doi.org/10.1561/2200000013 Dominika Tkaczyk, Andrew Collins, Paraic Sheridan and Joeran Beel, Machine Learning vs. Rules and Out-of-the-Box vs. Retrained: An Evaluation of Open-Source Bibliographic Reference and Citation Parsers , 2018, arXiv:1802.01168 cs.DL","title":"Awesome"},{"location":"awesome/#software-and-libraries","text":"Grobid ( GitHub , Doc , Demo ) is a machine learning library for extracting, parsing and re-structuring raw documents such as PDF into structured XML/TEI encoded documents with a particular focus on technical and scientific publications. First developments started in 2008 as a hobby. In 2011 the tool has been made available in open source. Work on GROBID has been steady as a side project since the beginning and is expected to continue as such. Biblio-glutton ( GitHub ) is a bibliographical reference matching service. From an input such as a raw bibliographical reference and/or a combination of key metadata, the service returns the disambiguated bibliographical object with in particular its DOI and a set of metadata aggregated from Crossref , PUBMED and other awesome bibliographical resources. spaCy ( GitHub , Doc ) is an Industrial-Strength Natural Language Processing Python library. Doccano ( GitHub , Demo ) is an open source text annotation tool for machine learning practitioners.","title":"Software and Libraries"},{"location":"awesome/#data","text":"Crossref interlinks millions of items from a variety of content types, including journals, books, conference proceedings, working papers, technical reports, and data sets. Linked content includes materials from Scientific, Technical and Medical (STM) and Social Sciences and Humanities (SSH) disciplines. PubMed is a free search engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics. Unpaywall is an open database of 25+ million free scholarly articles. Lens.org is a free and open search platform for patents and scholarly articles.","title":"Data"},{"location":"awesome/#articles","text":"Kevin A. Bryan, Yasin Ozcan, Bhaven Sampat, In-text patent citations: A user's guide , Research Policy, Volume 49, Issue 4, 2020, 103946, ISSN 0048-7333, https://doi.org/10.1016/j.respol.2020.103946 Osmat Jefferson et al. Mapping the global influence of published research on industry and innovation . Nat Biotechnol 36, 31\u201339 (2018). https://doi.org/10.1038/nbt.4049 Matt Marx and Aaron Fuegi , Reliance on Science: Worldwide Front-Page Patent Citations to Scientific Articles (November 15, 2019). Boston University Questrom School of Business Research Paper No. 3331686, http://dx.doi.org/10.2139/ssrn.3331686 Charles Sutton and Andrew McCallum (2012), An Introduction to Conditional Random Fields , Foundations and Trends\u00ae in Machine Learning: Vol. 4: No. 4, pp 267-373. http://dx.doi.org/10.1561/2200000013 Dominika Tkaczyk, Andrew Collins, Paraic Sheridan and Joeran Beel, Machine Learning vs. Rules and Out-of-the-Box vs. Retrained: An Evaluation of Open-Source Bibliographic Reference and Citation Parsers , 2018, arXiv:1802.01168 cs.DL","title":"Articles"},{"location":"classify/","text":"Classes \u00b6 We defined 9 research-oriented classes as follows: Class Content 1 Bibliographical reference Journal, Book, Technical report, Thesis dissertation Office action Office action, Response to office action, Notice of allowance, Office communication, Invitation to pay additional fees, Restriction requirements, Invitation to pay additional fees Patent Patent without any reference to an office action, Patent translation without..., Patent abstract without..., Patent specification without..., Patent chart, Derwent patent abstract, DWPI, WPI Search report Search report, Written opinion, Report of preliminary patentability, Examiner interview Litigation Inter-Parte-Review (IPR), Notice of opposition, Patent litigation Database EMBL, Genebank, Geneseq Product Documentation Catalogue, Brochure, Product description, Manual/user guide, Commercial doc, Product data sheet Norms and standards ISO, DIN, 3GPP, IETF, RFC (Request for comments) Webpage Wikipedia, Articles with web as primary source (except for product documentation) Litigation IPR, Petition, Invalidity contention Approximately 3,000 citations were labelled by hand in one of those exclusive classes thanks to Doccano awesome labeling platform. Warning Due to limited ability of the labeling team, non latin-character based citations (Chinese, Japan, etc) were not labelled at all. Any contribution welcome. Classification model \u00b6 For the classification model, we rely on spaCy's textCategorizer. Specifically, we choose the ensemble architecture model. This means that the model is a stacked ensemble of a bag-of-words model and a neural network model. The neural network uses a Convolutional Neural Network (CNN) with mean pooling and attention. More Training data and model evaluation are available in models/npl_class_training Models are available in v0.2-npl release Include but is not restricted to. \u21a9","title":"Classify"},{"location":"classify/#classes","text":"We defined 9 research-oriented classes as follows: Class Content 1 Bibliographical reference Journal, Book, Technical report, Thesis dissertation Office action Office action, Response to office action, Notice of allowance, Office communication, Invitation to pay additional fees, Restriction requirements, Invitation to pay additional fees Patent Patent without any reference to an office action, Patent translation without..., Patent abstract without..., Patent specification without..., Patent chart, Derwent patent abstract, DWPI, WPI Search report Search report, Written opinion, Report of preliminary patentability, Examiner interview Litigation Inter-Parte-Review (IPR), Notice of opposition, Patent litigation Database EMBL, Genebank, Geneseq Product Documentation Catalogue, Brochure, Product description, Manual/user guide, Commercial doc, Product data sheet Norms and standards ISO, DIN, 3GPP, IETF, RFC (Request for comments) Webpage Wikipedia, Articles with web as primary source (except for product documentation) Litigation IPR, Petition, Invalidity contention Approximately 3,000 citations were labelled by hand in one of those exclusive classes thanks to Doccano awesome labeling platform. Warning Due to limited ability of the labeling team, non latin-character based citations (Chinese, Japan, etc) were not labelled at all. Any contribution welcome.","title":"Classes"},{"location":"classify/#classification-model","text":"For the classification model, we rely on spaCy's textCategorizer. Specifically, we choose the ensemble architecture model. This means that the model is a stacked ensemble of a bag-of-words model and a neural network model. The neural network uses a Convolutional Neural Network (CNN) with mean pooling and attention. More Training data and model evaluation are available in models/npl_class_training Models are available in v0.2-npl release Include but is not restricted to. \u21a9","title":"Classification model"},{"location":"code-of-conduct/","text":"Contributor Covenant Code of Conduct \u00b6 Our Pledge \u00b6 In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation. Our Standards \u00b6 Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting Our Responsibilities \u00b6 Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful. Scope \u00b6 This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers. Enforcement \u00b6 Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at antoninbergeaud@gmail.com, cyril.verluise@gmail.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership. Attribution \u00b6 This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq","title":"Code of Conduct"},{"location":"code-of-conduct/#contributor-covenant-code-of-conduct","text":"","title":"Contributor Covenant Code of Conduct"},{"location":"code-of-conduct/#our-pledge","text":"In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.","title":"Our Pledge"},{"location":"code-of-conduct/#our-standards","text":"Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting","title":"Our Standards"},{"location":"code-of-conduct/#our-responsibilities","text":"Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.","title":"Our Responsibilities"},{"location":"code-of-conduct/#scope","text":"This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.","title":"Scope"},{"location":"code-of-conduct/#enforcement","text":"Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at antoninbergeaud@gmail.com, cyril.verluise@gmail.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.","title":"Enforcement"},{"location":"code-of-conduct/#attribution","text":"This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq","title":"Attribution"},{"location":"contributing/","text":"Contributions \u00b6 Interested in contributing to PatCit? Great! Existing issues \u00b6 Existing issues are open to contributors. In particular, issues tagged with good first issue or help-wanted might be a good start. Before starting, please, start a discussion. We will make sure that your efforts are consistent with prior work and the overall direction of the project. Found a bug? \u00b6 If you found a bug in the source code, you can help us by submitting an issue to the issue tracker in our GitHub repository. Even better, you can submit a Pull Request with a fix. Before doing so, please read the submission guidelines. Missing a feature? \u00b6 You are most welcome to request new features by submitting a feature request to our GitHub Repository. If you would like to implement a new feature, please submit a proposal for your work first, to be sure that it is of general interest. Submission guidelines \u00b6 Submitting an issue \u00b6 Before you submit an issue, please search the issue tracker, maybe an issue for your problem already exists and the discussion might inform you of workarounds readily available. We want to fix all the issues as soon as possible, but before fixing a bug we need to reproduce and confirm it. In order to reproduce bugs we will systematically ask you to provide a minimal reproduction scenario using the custom issue template. Please stick to the issue template. Submitting a Pull Request (PR) \u00b6 Search GitHub for an open or closed PR that relates to your submission. If you do not find a related issue or PR, go ahead! Git Commit Messages \u00b6 Some good practices: Use the present tense (\"Add feature\" not \"Added feature\") Use the imperative mood (\"Move cursor to...\" not \"Moves cursor to...\") Limit the first line to 72 characters or less Reference issues and pull requests liberally after the first line Consider starting the commit message with an applicable emoji: emoji code task :tada when adding code :art: when improving the format/structure of the code :bug: when fixing a bug :memo: when writing docs :fire: when removing code or files :gift: when adding features :rainbow: when adding community content :racehorse: when improving performance :crystal_ball: when adding/improving a model :white_check_mark: when adding validation results/data :black_circle: when formatting code (with black) :repeat: when updating dependencies","title":"Contributions"},{"location":"contributing/#contributions","text":"Interested in contributing to PatCit? Great!","title":"Contributions"},{"location":"contributing/#existing-issues","text":"Existing issues are open to contributors. In particular, issues tagged with good first issue or help-wanted might be a good start. Before starting, please, start a discussion. We will make sure that your efforts are consistent with prior work and the overall direction of the project.","title":"Existing issues"},{"location":"contributing/#found-a-bug","text":"If you found a bug in the source code, you can help us by submitting an issue to the issue tracker in our GitHub repository. Even better, you can submit a Pull Request with a fix. Before doing so, please read the submission guidelines.","title":"Found a bug?"},{"location":"contributing/#missing-a-feature","text":"You are most welcome to request new features by submitting a feature request to our GitHub Repository. If you would like to implement a new feature, please submit a proposal for your work first, to be sure that it is of general interest.","title":"Missing a feature?"},{"location":"contributing/#submission-guidelines","text":"","title":"Submission guidelines"},{"location":"contributing/#submitting-an-issue","text":"Before you submit an issue, please search the issue tracker, maybe an issue for your problem already exists and the discussion might inform you of workarounds readily available. We want to fix all the issues as soon as possible, but before fixing a bug we need to reproduce and confirm it. In order to reproduce bugs we will systematically ask you to provide a minimal reproduction scenario using the custom issue template. Please stick to the issue template.","title":"Submitting an issue"},{"location":"contributing/#submitting-a-pull-request-pr","text":"Search GitHub for an open or closed PR that relates to your submission. If you do not find a related issue or PR, go ahead!","title":"Submitting a Pull Request (PR)"},{"location":"contributing/#git-commit-messages","text":"Some good practices: Use the present tense (\"Add feature\" not \"Added feature\") Use the imperative mood (\"Move cursor to...\" not \"Moves cursor to...\") Limit the first line to 72 characters or less Reference issues and pull requests liberally after the first line Consider starting the commit message with an applicable emoji: emoji code task :tada when adding code :art: when improving the format/structure of the code :bug: when fixing a bug :memo: when writing docs :fire: when removing code or files :gift: when adding features :rainbow: when adding community content :racehorse: when improving performance :crystal_ball: when adding/improving a model :white_check_mark: when adding validation results/data :black_circle: when formatting code (with black) :repeat: when updating dependencies","title":"Git Commit Messages"},{"location":"download/","text":"Zenodo \u00b6 The dataset is available on Zenodo ! patCit Versioning Versions of the dataset are archived on Zenodo as of v0.15 . Dataset structure \u00b6 The patCit dataset has the following structure: 1 2 3 4 5 6 7 8 9 \ud83d\udcc1 patcit \u251c\u2500\u2500 \ud83d\udcdd README.md \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_allmeta.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_bibliographicalreference.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_database.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_normstandard.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_wiki.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f intext_bibliographicalreference.tar \u2514\u2500\u2500 \ud83d\uddc3\ufe0f intext_patent.tar Each .tar file contains: compressed data file(s) in newline delimited JSON ( .jsonl.gz ) corresponding to the data table itself. When the table is large, it is chunked in multiple files. the schema of the data table in JSON ( .json ). Build a table locally It is not possible to detail all the possible procedures due to the large diversity of database services. Instead, below are the general guidelines for any database service. Download the tar file(s) corresponding to the table(s) you are interested in Untar the file(s) (e.g. tar -xvf <your-file.tar> on mac/linux) Unzip the data file(s) (e.g. gunzip *.jsonl.gz on mac/linux). This step is actually optional since some database services enable table building using zipped data files. Build the table in your SQL like database service using the specified schema BigQuery \u00b6 In many cases, you don't need the whole dataset for your research. In order to avoid tedious filtering and post-processing on your local machine, we recommend that you adopt the following strategy: Query patCit using the BigQuery public release of the dataset. See our BigQuery exploration guide if you are new to BigQuery. Save the resulting table 1 . Here you go! Example Let's assume that you are interested in the ranking of journals by the number of articles cited by patents and published in the 1980s. The related query is the following: 1 2 3 4 5 6 7 8 9 10 11 12 13 SELECT journal_title , COUNT ( is_cited_by_count ) AS nb_citations FROM ` patcit - public - data . frontpage . bibliographical_reference ` WHERE journal_title IS NOT NULL AND date BETWEEN 19800000 AND 19900000 GROUP BY journal_title ORDER BY nb_citations DESC Run the query Save the query You can save small tables (less than 16,000 rows) to clipboard, locally or to Google sheets. You can save mid-size (less than 1Gb) tables to Google Drive. Larger tables have to be saved to BigQuery, then to Google Cloud Storage and from there you can download them locally. \u21a9","title":"Download"},{"location":"download/#zenodo","text":"The dataset is available on Zenodo ! patCit Versioning Versions of the dataset are archived on Zenodo as of v0.15 .","title":"Zenodo"},{"location":"download/#dataset-structure","text":"The patCit dataset has the following structure: 1 2 3 4 5 6 7 8 9 \ud83d\udcc1 patcit \u251c\u2500\u2500 \ud83d\udcdd README.md \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_allmeta.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_bibliographicalreference.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_database.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_normstandard.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f frontpage_wiki.tar \u251c\u2500\u2500 \ud83d\uddc3\ufe0f intext_bibliographicalreference.tar \u2514\u2500\u2500 \ud83d\uddc3\ufe0f intext_patent.tar Each .tar file contains: compressed data file(s) in newline delimited JSON ( .jsonl.gz ) corresponding to the data table itself. When the table is large, it is chunked in multiple files. the schema of the data table in JSON ( .json ). Build a table locally It is not possible to detail all the possible procedures due to the large diversity of database services. Instead, below are the general guidelines for any database service. Download the tar file(s) corresponding to the table(s) you are interested in Untar the file(s) (e.g. tar -xvf <your-file.tar> on mac/linux) Unzip the data file(s) (e.g. gunzip *.jsonl.gz on mac/linux). This step is actually optional since some database services enable table building using zipped data files. Build the table in your SQL like database service using the specified schema","title":"Dataset structure"},{"location":"download/#bigquery","text":"In many cases, you don't need the whole dataset for your research. In order to avoid tedious filtering and post-processing on your local machine, we recommend that you adopt the following strategy: Query patCit using the BigQuery public release of the dataset. See our BigQuery exploration guide if you are new to BigQuery. Save the resulting table 1 . Here you go! Example Let's assume that you are interested in the ranking of journals by the number of articles cited by patents and published in the 1980s. The related query is the following: 1 2 3 4 5 6 7 8 9 10 11 12 13 SELECT journal_title , COUNT ( is_cited_by_count ) AS nb_citations FROM ` patcit - public - data . frontpage . bibliographical_reference ` WHERE journal_title IS NOT NULL AND date BETWEEN 19800000 AND 19900000 GROUP BY journal_title ORDER BY nb_citations DESC Run the query Save the query You can save small tables (less than 16,000 rows) to clipboard, locally or to Google sheets. You can save mid-size (less than 1Gb) tables to Google Drive. Larger tables have to be saved to BigQuery, then to Google Cloud Storage and from there you can download them locally. \u21a9","title":"BigQuery"},{"location":"explore/","text":"The PatCit dataset is publicly available on Google Cloud BigQuery (GBQ). For those who have a smattering of SQL, we believe that this is the perfect environment to play with the data. Follow the guide! BigQuery Quickstart If you are new to GCP and want to learn the basics of Google BigQuery (GBQ), you can take the GBQ Quickstart . This should not take more than 2 minutes and might help a lot ! Go to the patcit-public-data project on GBQ \u00b6 Click the link Login to your Google Cloud Platform (GCP) account or create one \u00b6 To access the PatCit dataset, you don't need anything else than a GCP account. In particular, you don't need to enable billing to see the dataset. Google Cloud Free Tier If you want to run large queries, you might be interested in the Google Cloud Free Tier . It gives you free resources to learn about Google Cloud services by crediting your account with A 12-month free trial with $300 credit to use with any Google Cloud services. First look at the data \u00b6 Click any table in the patcit dataset to have a first look at it. Table overview with BigQuery Navigate the central pane to learn more on the selected table (schema, details, preview) Query the data \u00b6 You can run SQL queries against any table in the patcit dataset. Example You need to select a valid project to be able to query a table. Otherwise, you will receive the folowing message Access Denied: Project patcit-public-data: User does not have bigquery.jobs.create permission in project patcit-public-data . Use the query editor to specify you query Example query 1 2 3 4 5 6 7 8 9 10 11 12 13 SELECT journal_title , COUNT ( is_cited_by_count ) AS nb_citations FROM ` patcit - public - data . frontpage . bibliographical_reference ` WHERE journal_title IS NOT NULL AND date BETWEEN 19800000 AND 19900000 GROUP BY journal_title ORDER BY nb_citations DESC","title":"Explore"},{"location":"explore/#go-to-the-patcit-public-data-project-on-gbq","text":"Click the link","title":"Go to the patcit-public-data project on GBQ"},{"location":"explore/#login-to-your-google-cloud-platform-gcp-account-or-create-one","text":"To access the PatCit dataset, you don't need anything else than a GCP account. In particular, you don't need to enable billing to see the dataset. Google Cloud Free Tier If you want to run large queries, you might be interested in the Google Cloud Free Tier . It gives you free resources to learn about Google Cloud services by crediting your account with A 12-month free trial with $300 credit to use with any Google Cloud services.","title":"Login to your Google Cloud Platform (GCP) account or create one"},{"location":"explore/#first-look-at-the-data","text":"Click any table in the patcit dataset to have a first look at it. Table overview with BigQuery Navigate the central pane to learn more on the selected table (schema, details, preview)","title":"First look at the data"},{"location":"explore/#query-the-data","text":"You can run SQL queries against any table in the patcit dataset. Example You need to select a valid project to be able to query a table. Otherwise, you will receive the folowing message Access Denied: Project patcit-public-data: User does not have bigquery.jobs.create permission in project patcit-public-data . Use the query editor to specify you query Example query 1 2 3 4 5 6 7 8 9 10 11 12 13 SELECT journal_title , COUNT ( is_cited_by_count ) AS nb_citations FROM ` patcit - public - data . frontpage . bibliographical_reference ` WHERE journal_title IS NOT NULL AND date BETWEEN 19800000 AND 19900000 GROUP BY journal_title ORDER BY nb_citations DESC","title":"Query the data"},{"location":"extract-parse-consolidate/","text":"Extract, Parse \u00b6 For the extraction and parsing tasks, we build on Grobid , a machine learning library for extracting, parsing and restructuring raw documents such as patent documents and citations. Consolidate \u00b6 For the consolidation task, we build on biblio-glutton , a framework dedicated to bibliographic information with a powerful bibliographical matching service. Data pipeline \u00b6 These services are articulated in an efficient data pipeline in the cloud to process up to 2 million citations per day and 300k full-text patents per day.","title":"Extract parse consolidate"},{"location":"extract-parse-consolidate/#extract-parse","text":"For the extraction and parsing tasks, we build on Grobid , a machine learning library for extracting, parsing and restructuring raw documents such as patent documents and citations.","title":"Extract, Parse"},{"location":"extract-parse-consolidate/#consolidate","text":"For the consolidation task, we build on biblio-glutton , a framework dedicated to bibliographic information with a powerful bibliographical matching service.","title":"Consolidate"},{"location":"extract-parse-consolidate/#data-pipeline","text":"These services are articulated in an efficient data pipeline in the cloud to process up to 2 million citations per day and 300k full-text patents per day.","title":"Data pipeline"},{"location":"glossary/","text":"","title":"Glossary"},{"location":"license-cc/","text":"Creative Commons Attribution 4.0 International \u00b6 Creative Commons Corporation (\u201cCreative Commons\u201d) is not a law firm and does not provide legal services or legal advice. Distribution of Creative Commons public licenses does not create a lawyer-client or other relationship. Creative Commons makes its licenses and related information available on an \u201cas-is\u201d basis. Creative Commons gives no warranties regarding its licenses, any material licensed under their terms and conditions, or any related information. Creative Commons disclaims all liability for damages resulting from their use to the fullest extent possible. Using Creative Commons Public Licenses \u00b6 Creative Commons public licenses provide a standard set of terms and conditions that creators and other rights holders may use to share original works of authorship and other material subject to copyright and certain other rights specified in the public license below. The following considerations are for informational purposes only, are not exhaustive, and do not form part of our licenses. Considerations for licensors: Our public licenses are intended for use by those authorized to give the public permission to use material in ways otherwise restricted by copyright and certain other rights. Our licenses are irrevocable. Licensors should read and understand the terms and conditions of the license they choose before applying it. Licensors should also secure all rights necessary before applying our licenses so that the public can reuse the material as expected. Licensors should clearly mark any material not subject to the license. This includes other CC-licensed material, or material used under an exception or limitation to copyright. More considerations for licensors . Considerations for the public: By using one of our public licenses, a licensor grants the public permission to use the licensed material under specified terms and conditions. If the licensor\u2019s permission is not necessary for any reason\u2013for example, because of any applicable exception or limitation to copyright\u2013then that use is not regulated by the license. Our licenses grant only permissions under copyright and certain other rights that a licensor has authority to grant. Use of the licensed material may still be restricted for other reasons, including because others have copyright or other rights in the material. A licensor may make special requests, such as asking that all changes be marked or described. Although not required by our licenses, you are encouraged to respect those requests where reasonable. More considerations for the public . Creative Commons Attribution 4.0 International Public License \u00b6 By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution 4.0 International Public License (\"Public License\"). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions. Section 1 \u2013 Definitions. \u00b6 a. Adapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image. b. Adapter's License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License. c. Copyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights. d. Effective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements. e. Exceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material. f. Licensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License. g. Licensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license. h. Licensor means the individual(s) or entity(ies) granting rights under this Public License. i. Share means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them. j. Sui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world. k. You means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning. Section 2 \u2013 Scope. \u00b6 a. License grant. Subject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to: A. reproduce and Share the Licensed Material, in whole or in part; and B. produce, reproduce, and Share Adapted Material. Exceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions. Term. The term of this Public License is specified in Section 6(a). Media and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)(4) never produces Adapted Material. Downstream recipients. A. Offer from the Licensor \u2013 Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License. B. No downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material. No endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i). b. Other rights. Moral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise. Patent and trademark rights are not licensed under this Public License. To the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties. Section 3 \u2013 License Conditions. \u00b6 Your exercise of the Licensed Rights is expressly made subject to the following conditions. a. Attribution. If You Share the Licensed Material (including in modified form), You must: A. retain the following if it is supplied by the Licensor with the Licensed Material: 1 2 3 4 5 6 7 8 9 i. identification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated); ii. a copyright notice; iii. a notice that refers to this Public License; iv. a notice that refers to the disclaimer of warranties; v. a URI or hyperlink to the Licensed Material to the extent reasonably practicable; B. indicate if You modified the Licensed Material and retain an indication of any previous modifications; and C. indicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License. You may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information. If requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable. If You Share Adapted Material You produce, the Adapter's License You apply must not prevent recipients of the Adapted Material from complying with this Public License. Section 4 \u2013 Sui Generis Database Rights. \u00b6 Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material: a. for the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database; b. if You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material; and c. You must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database. For the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights. Section 5 \u2013 Disclaimer of Warranties and Limitation of Liability. \u00b6 a. Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You. b. To the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You. c. The disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability. Section 6 \u2013 Term and Termination. \u00b6 a. This Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically. b. Where Your right to use the Licensed Material has terminated under Section 6(a), it reinstates: automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or upon express reinstatement by the Licensor. For the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License. c. For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License. d. Sections 1, 5, 6, 7, and 8 survive termination of this Public License. Section 7 \u2013 Other Terms and Conditions. \u00b6 a. The Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed. b. Any arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License. Section 8 \u2013 Interpretation. \u00b6 a. For the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License. b. To the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions. c. No term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor. d. Nothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority. Creative Commons is not a party to its public licenses. Notwithstanding, Creative Commons may elect to apply one of its public licenses to material it publishes and in those instances will be considered the \u201cLicensor.\u201d Except for the limited purpose of indicating that material is shared under a Creative Commons public license or as otherwise permitted by the Creative Commons policies published at creativecommons.org/policies , Creative Commons does not authorize the use of the trademark \u201cCreative Commons\u201d or any other trademark or logo of Creative Commons without its prior written consent including, without limitation, in connection with any unauthorized modifications to any of its public licenses or any other arrangements, understandings, or agreements concerning use of licensed material. For the avoidance of doubt, this paragraph does not form part of the public licenses. Creative Commons may be contacted at creativecommons.org","title":"CC-BY-4"},{"location":"license-cc/#creative-commons-attribution-40-international","text":"Creative Commons Corporation (\u201cCreative Commons\u201d) is not a law firm and does not provide legal services or legal advice. Distribution of Creative Commons public licenses does not create a lawyer-client or other relationship. Creative Commons makes its licenses and related information available on an \u201cas-is\u201d basis. Creative Commons gives no warranties regarding its licenses, any material licensed under their terms and conditions, or any related information. Creative Commons disclaims all liability for damages resulting from their use to the fullest extent possible.","title":"Creative Commons Attribution 4.0 International"},{"location":"license-cc/#using-creative-commons-public-licenses","text":"Creative Commons public licenses provide a standard set of terms and conditions that creators and other rights holders may use to share original works of authorship and other material subject to copyright and certain other rights specified in the public license below. The following considerations are for informational purposes only, are not exhaustive, and do not form part of our licenses. Considerations for licensors: Our public licenses are intended for use by those authorized to give the public permission to use material in ways otherwise restricted by copyright and certain other rights. Our licenses are irrevocable. Licensors should read and understand the terms and conditions of the license they choose before applying it. Licensors should also secure all rights necessary before applying our licenses so that the public can reuse the material as expected. Licensors should clearly mark any material not subject to the license. This includes other CC-licensed material, or material used under an exception or limitation to copyright. More considerations for licensors . Considerations for the public: By using one of our public licenses, a licensor grants the public permission to use the licensed material under specified terms and conditions. If the licensor\u2019s permission is not necessary for any reason\u2013for example, because of any applicable exception or limitation to copyright\u2013then that use is not regulated by the license. Our licenses grant only permissions under copyright and certain other rights that a licensor has authority to grant. Use of the licensed material may still be restricted for other reasons, including because others have copyright or other rights in the material. A licensor may make special requests, such as asking that all changes be marked or described. Although not required by our licenses, you are encouraged to respect those requests where reasonable. More considerations for the public .","title":"Using Creative Commons Public Licenses"},{"location":"license-cc/#creative-commons-attribution-40-international-public-license","text":"By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution 4.0 International Public License (\"Public License\"). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions.","title":"Creative Commons Attribution 4.0 International Public License"},{"location":"license-cc/#section-1-definitions","text":"a. Adapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image. b. Adapter's License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License. c. Copyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights. d. Effective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements. e. Exceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material. f. Licensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License. g. Licensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license. h. Licensor means the individual(s) or entity(ies) granting rights under this Public License. i. Share means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them. j. Sui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world. k. You means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning.","title":"Section 1 \u2013 Definitions."},{"location":"license-cc/#section-2-scope","text":"a. License grant. Subject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to: A. reproduce and Share the Licensed Material, in whole or in part; and B. produce, reproduce, and Share Adapted Material. Exceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions. Term. The term of this Public License is specified in Section 6(a). Media and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)(4) never produces Adapted Material. Downstream recipients. A. Offer from the Licensor \u2013 Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License. B. No downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material. No endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i). b. Other rights. Moral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise. Patent and trademark rights are not licensed under this Public License. To the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties.","title":"Section 2 \u2013 Scope."},{"location":"license-cc/#section-3-license-conditions","text":"Your exercise of the Licensed Rights is expressly made subject to the following conditions. a. Attribution. If You Share the Licensed Material (including in modified form), You must: A. retain the following if it is supplied by the Licensor with the Licensed Material: 1 2 3 4 5 6 7 8 9 i. identification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated); ii. a copyright notice; iii. a notice that refers to this Public License; iv. a notice that refers to the disclaimer of warranties; v. a URI or hyperlink to the Licensed Material to the extent reasonably practicable; B. indicate if You modified the Licensed Material and retain an indication of any previous modifications; and C. indicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License. You may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information. If requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable. If You Share Adapted Material You produce, the Adapter's License You apply must not prevent recipients of the Adapted Material from complying with this Public License.","title":"Section 3 \u2013 License Conditions."},{"location":"license-cc/#section-4-sui-generis-database-rights","text":"Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material: a. for the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database; b. if You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material; and c. You must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database. For the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights.","title":"Section 4 \u2013 Sui Generis Database Rights."},{"location":"license-cc/#section-5-disclaimer-of-warranties-and-limitation-of-liability","text":"a. Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You. b. To the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You. c. The disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability.","title":"Section 5 \u2013 Disclaimer of Warranties and Limitation of Liability."},{"location":"license-cc/#section-6-term-and-termination","text":"a. This Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically. b. Where Your right to use the Licensed Material has terminated under Section 6(a), it reinstates: automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or upon express reinstatement by the Licensor. For the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License. c. For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License. d. Sections 1, 5, 6, 7, and 8 survive termination of this Public License.","title":"Section 6 \u2013 Term and Termination."},{"location":"license-cc/#section-7-other-terms-and-conditions","text":"a. The Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed. b. Any arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License.","title":"Section 7 \u2013 Other Terms and Conditions."},{"location":"license-cc/#section-8-interpretation","text":"a. For the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License. b. To the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions. c. No term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor. d. Nothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority. Creative Commons is not a party to its public licenses. Notwithstanding, Creative Commons may elect to apply one of its public licenses to material it publishes and in those instances will be considered the \u201cLicensor.\u201d Except for the limited purpose of indicating that material is shared under a Creative Commons public license or as otherwise permitted by the Creative Commons policies published at creativecommons.org/policies , Creative Commons does not authorize the use of the trademark \u201cCreative Commons\u201d or any other trademark or logo of Creative Commons without its prior written consent including, without limitation, in connection with any unauthorized modifications to any of its public licenses or any other arrangements, understandings, or agreements concerning use of licensed material. For the avoidance of doubt, this paragraph does not form part of the public licenses. Creative Commons may be contacted at creativecommons.org","title":"Section 8 \u2013 Interpretation."},{"location":"license-mit/","text":"Copyright 2019-2020 Ga\u00e9tan de RASSENFOSSE and Cyril VERLUISE Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT"},{"location":"recipes/","text":"Recipes \u00b6 front-page \u00b6 front-page.meta \u00b6 cited_by_ \u00b6 Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-cited-by --tls201 <tls201-table> --tls211 <tls211-table> --tls212 <tls201-table> ) Run query and create bq table 1 bq query --destination_table <tmp-table> --replace --use_legacy_sql = false $QUERY Warning When writing those lines, the query step did not work using bq CLI ( Resources exceeded during query execution: The query could not be executed in the allotted memory. which seems to be due to the ordering stage). This step can be executed from the UI nevertheless. Export to Google Storage in JSONL 1 bq extract --compression = GZIP --destination_format = NEWLINE_DELIMITED_JSON <tmp-table> <cited_by-uris> Import data on a compute engine (local, vmm, etc) and unzip 1 2 gsutil -m cp <cited_by-uris> <dest> gunzip <cited_by-files> Check that there is no overlap between the shards (w.r.t npl_publn_id ) 1 for file in $( find <cited_by*.jsonl> ) ; do head -n 1 ${ file } | jq '.npl_publn_id' && tail -n 1 ${ file } | jq '.npl_publn_id' ; done | sort | uniq -d Group by npl_publn_id and format table: 1 2 3 for file in $( find cited_by*.jsonl ) ; do jq -s -c 'group_by(.npl_publn_id)[] | {npl_publn_id: (.[0].npl_publn_id)|tonumber , cited_by: [ .[] | {publication_number: .publication_number, publication_date: (.publication_date)|tonumber, origin:.origin, appln_id: (.appln_id)|tonumber, docdb_family_id: (.docdb_family_id)| tonumber, inpadoc_family_id: (.inpadoc_family_id)|tonumber }], is_cited_by_count: length}' ${ file } >> \" ${ file } _prep\" ; done ; # or in parallel - recommended. NB: could include the decompression step # ls *.jsonl | cut -d. -f1 | paralell -j+0 --eta \"jq -s -c 'group_by(.npl_publn_id)[] | {npl_publn_id: (.[0].npl_publn_id)|tonumber , cited_by: [ .[] | {publication_number: .publication_number, publication_date: (.publication_date)|tonumber, origin:.origin, appln_id: (.appln_id)|tonumber, docdb_family_id: (.docdb_family_id)| tonumber, inpadoc_family_id: (.inpadoc_family_id)|tonumber }], is_cited_by_count: length} {}.jsonl.gz' >> {}_prep.jsonl && gzip {}_prep.jsonl\" Send back to G-storage and Load table to bq 1 2 gsutil -m cp ... bq load --source_format NEWLINE_DELIMITED_JSON --replace --autodetect <cited_by-table> <*_prep.jsonl.gz> <schema> properties_ \u00b6 Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-properties --bibref <bibref-table> --tls214 <tls214-table> ) Run query and create bq table 1 bq query --destination_table <dest-table> --replace --use_legacy_sql = false $QUERY Export to Google Storage in JSONL 1 bq extract --compression = GZIP --destination_format = NEWLINE_DELIMITED_JSON <cited_by-table> <cited_by-uris> Process files 1 ls *.jsonl.gz | cut -d. -f1 | parallel -j+0 --eta 'python cli/patcit-cli.py serialize npl-properties {}.jsonl.gz --cat-model models/en_cat_npl_sm/ >> {}_prep.jsonl && gzip {}_prep.jsonl' Send back to G-storage and Load table to bq 1 2 gsutil -m cp ... bq load --source_format NEWLINE_DELIMITED_JSON --replace --autodetect <properties-table> <*_prep.jsonl.gz> `meta - the final word \u00b6 Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-meta --properties <properties-table> --cited-by <cited_by-table> --primary_key <primary_key> ) primary_key You can set the primary_key argument to patcit_id (recommended) or npl_publn_id (deprecated). In the first case, npl_publn_id with the same patcit_id will be grouped together. Otherwise, the npl_publn_id remains the primary key. Run query and create bq table 1 bq query --replace --use_legacy_sql = false --destination_table <meta-table> --destination_schema schema/frontpage_meta_<primary_key>bq.json $QUERY frontpage.bibref \u00b6 grobid/crossref_bibref_ \u00b6 Serialize grobid raw output 1 python cli/patcit_serialize.py grobid-npl <path> --max-workers <max_workers> >> <dest-file>.jsonl Harmonize schema with patcit_bibref 1 ls <dest-file>*.jsonl | parallel -j+0 --eta 'python cli/patcit_serialize.py patcit-bibref {} --src-flavor <grobid/crossref> >> patcit_{.}.jsonl && gzip patcit_{.}.jsonl' Load to BQ 1 bq load --source_format NEWLINE_DELIMITED_JSON --replace --ignore_unknown_values patcit_*.jsonl.gz schema/patcit_bibref.json bibref \u00b6 Generate query 1 QUERY = $( python cli/patcit_bq_lip.py front-page-bibref --meta <mate-table> --bibref-grobid <table-grobid-bibref> --bibref-crossref <table-crossref-bibref> ) Run query and create bq table 1 bq query --replace --use_legacy_sql = false --destination_table <bibref-table> --destination_schema schema/frontpage_bibref.json $QUERY Update table (PMID and PMCID) 1 # TODO cat \u00b6 1 bq load --source_format = NEWLINE_DELIMITED_JSON --max_bad_records = 100 --ignore_unknown_values --replace --autodetect npl-parsing:external.v03_front_page_wiki gs://patcit_dev/frontpage/wiki_03.jsonl.gz 1 QUERY=$(python patcit/main.py bq front-page-cat --meta npl-parsing.external.v03_front_page_meta_future --cat npl-parsing.external.v03_front_page_wiki) 1 bq query --replace --use_legacy_sql=false --replace --destination_table patcit-public-data:frontpage.wiki --destination_schema schema/frontpage_wiki.json $QUERY In text \u00b6 Patent \u00b6 Add publication_number Add patent properties Make sure it is ordered along the primary key Extract table to gs 1 2 3 4 SELECT DISTINCT ( CONCAT ( orgname , original )) AS pubnum FROM ` npl - parsing . patcit . v01_UScontextualPat ` prep table 1 2 3 ls intext_patent_flat_0000000000*.jsonl | parallel -j +0 --eta \"sort {} | uniq >> distinct_{}\" ls distinct_intext_patent_flat_0000000000*.jsonl | parallel -j +0 --eta \"jq -s -c 'group_by(.publication_number_o)[] | {publication_number: .[0].publication_number_o, publication_date: .[0].publication_date_o, appln_id: .[0].appln_id_o, pat_publn_id: .[0].pat_publn_id_o, docdb_family_id: .[0].docdb_family_id_o, inpadoc_family_id: .[0].inpadoc_family_id_o, citation: [ .[] | {country_code: .orgname, original_number: .original, publication_number: .publication_number, publication_date: .publication_date, appln_id: .appln_id, pat_publn_id: .pat_publn_id, docdb_family_id: .docdb_family_id, inpadoc_family_id: .inpadoc_family_id} ]}' {} >> $( sed -e 's/_flat//g' ) && gzip $( sed -e 's/_flat//g' ) \" bq load --source_format = NEWLINE_DELIMITED_JSON --max_bad_records = 100 --ignore_unknown_values --replace patcit-public-data:intext.patent \"gs://patcit_dev/intext/intext_patent*.jsonl.gz\" schema/intext_patent.json bibref \u00b6 Harmonize format ```shell script patcit serialize patcit-bibref gold_npl_serialized_us_description_post1976_000000000000.jsonl --src-flavor grobid-intext 1 2 3 4 5 6 7 8 9 10 11 - Add bibref score - Select bibref score above a given threshold ```shell script ls npl_*.jsonl | parallel -j 1 --eta \" patcit data bibref-silver-to-gold {} --model ../models/en_cat_bibref_sm >> score_{} && jq -c 'select(.bibref_score>.55)' score_{} >> gold_{}\" ``` - Add identifiers ````shell script ls patcit_gold_npl_serialized_us_description_pre1976_*.jsonl | parallel -j+0 --eta \"mv {} {}_depr && patcit serialize add-identifier {}_depr >> {}\" - Load in BQ. take care to apply excatly the same schema as for patcit_crossref Add patent properties & order 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 WITH bibref AS ( SELECT tmp . * FROM ` npl - parsing . tmp . tmp_ ` AS tmp LEFT JOIN ` npl - parsing . external . patcit_crossref ` AS crossref ON tmp . DOI = crossref . DOI WHERE crossref . DOI IS NULL UNION ALL SELECT tmp . patcit_id , tmp . publication_number_o , 1 AS bibref_score , crossref . * EXCEPT ( npl_publn_id ) FROM ` npl - parsing . tmp . tmp_ ` AS tmp INNER JOIN ` npl - parsing . external . patcit_crossref ` AS crossref ON tmp . DOI = crossref . DOI ) SELECT bibref . * , patstat . * EXCEPT ( publication_number ) FROM bibref LEFT JOIN ` npl - parsing . external . patstat_patent_properties ` AS patstat ON bibref . publication_number_o = patstat . publication_number Order on the grouping key (e.g. patcit_id) Group shell script ls *intext_patcit_bibref*.jsonl.gz | parallel -j 4 --eta \"gunzip {} && jq -s -c 'group_by(.patcit_id)[] | {patcit_id: .[0].patcit_id , bibref_score: .[0].bibref_score, DOI: .[0].DOI, PMCID: .[0].PMCID, PMID: .[0].PMID, ISSN: .[0].ISSN, ISBN: .[0].ISBN, URL: .[0].URL, author: .[0].author, title: .[0].title, journal_title: .[0].journal_title, journal_title_abbrev: .[0].journal_title_abbrev, issue: .[0].issue, volume: .[0].volume, page: .[0].page, date: .[0].date, event: .[0].event, subject: .[0].subject, abstract: .[0].abstract, is_referenced_by_count: .[0].is_referenced_by_count, reference_count: .[0].reference_count, reference_doi: .[0].reference_doi, funder: .[0].funder, institution: .[0].institution, source: .[0].source, cited_by: [ .[] | {publication_number: .publication_number_o, publication_date: .publication_date, appln_id: .appln_id, pat_publn_id: .pat_publn_id, docdb_family_id: .docdb_family_id, inpadoc_family_id: .inpadoc_family_id }], is_cited_by_count: length}' {.} >> prep_{.} && gzip {.} prep_{.}\" load data shell script bq load --source_format=NEWLINE_DELIMITED_JSON --max_bad_records=1000 --replace patcit-public-data:intext.bibliographical_reference \"gs://patcit_dev/intext/prep_*.jsonl\" schema/intext_bibref.json","title":"Recipes"},{"location":"recipes/#recipes","text":"","title":"Recipes"},{"location":"recipes/#front-page","text":"","title":"front-page"},{"location":"recipes/#front-pagemeta","text":"","title":"front-page.meta"},{"location":"recipes/#cited_by_","text":"Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-cited-by --tls201 <tls201-table> --tls211 <tls211-table> --tls212 <tls201-table> ) Run query and create bq table 1 bq query --destination_table <tmp-table> --replace --use_legacy_sql = false $QUERY Warning When writing those lines, the query step did not work using bq CLI ( Resources exceeded during query execution: The query could not be executed in the allotted memory. which seems to be due to the ordering stage). This step can be executed from the UI nevertheless. Export to Google Storage in JSONL 1 bq extract --compression = GZIP --destination_format = NEWLINE_DELIMITED_JSON <tmp-table> <cited_by-uris> Import data on a compute engine (local, vmm, etc) and unzip 1 2 gsutil -m cp <cited_by-uris> <dest> gunzip <cited_by-files> Check that there is no overlap between the shards (w.r.t npl_publn_id ) 1 for file in $( find <cited_by*.jsonl> ) ; do head -n 1 ${ file } | jq '.npl_publn_id' && tail -n 1 ${ file } | jq '.npl_publn_id' ; done | sort | uniq -d Group by npl_publn_id and format table: 1 2 3 for file in $( find cited_by*.jsonl ) ; do jq -s -c 'group_by(.npl_publn_id)[] | {npl_publn_id: (.[0].npl_publn_id)|tonumber , cited_by: [ .[] | {publication_number: .publication_number, publication_date: (.publication_date)|tonumber, origin:.origin, appln_id: (.appln_id)|tonumber, docdb_family_id: (.docdb_family_id)| tonumber, inpadoc_family_id: (.inpadoc_family_id)|tonumber }], is_cited_by_count: length}' ${ file } >> \" ${ file } _prep\" ; done ; # or in parallel - recommended. NB: could include the decompression step # ls *.jsonl | cut -d. -f1 | paralell -j+0 --eta \"jq -s -c 'group_by(.npl_publn_id)[] | {npl_publn_id: (.[0].npl_publn_id)|tonumber , cited_by: [ .[] | {publication_number: .publication_number, publication_date: (.publication_date)|tonumber, origin:.origin, appln_id: (.appln_id)|tonumber, docdb_family_id: (.docdb_family_id)| tonumber, inpadoc_family_id: (.inpadoc_family_id)|tonumber }], is_cited_by_count: length} {}.jsonl.gz' >> {}_prep.jsonl && gzip {}_prep.jsonl\" Send back to G-storage and Load table to bq 1 2 gsutil -m cp ... bq load --source_format NEWLINE_DELIMITED_JSON --replace --autodetect <cited_by-table> <*_prep.jsonl.gz> <schema>","title":"cited_by_"},{"location":"recipes/#properties_","text":"Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-properties --bibref <bibref-table> --tls214 <tls214-table> ) Run query and create bq table 1 bq query --destination_table <dest-table> --replace --use_legacy_sql = false $QUERY Export to Google Storage in JSONL 1 bq extract --compression = GZIP --destination_format = NEWLINE_DELIMITED_JSON <cited_by-table> <cited_by-uris> Process files 1 ls *.jsonl.gz | cut -d. -f1 | parallel -j+0 --eta 'python cli/patcit-cli.py serialize npl-properties {}.jsonl.gz --cat-model models/en_cat_npl_sm/ >> {}_prep.jsonl && gzip {}_prep.jsonl' Send back to G-storage and Load table to bq 1 2 gsutil -m cp ... bq load --source_format NEWLINE_DELIMITED_JSON --replace --autodetect <properties-table> <*_prep.jsonl.gz>","title":"properties_"},{"location":"recipes/#meta-the-final-word","text":"Generate query 1 QUERY = $( python cli/patcit_bq_lib.py front-page-meta --properties <properties-table> --cited-by <cited_by-table> --primary_key <primary_key> ) primary_key You can set the primary_key argument to patcit_id (recommended) or npl_publn_id (deprecated). In the first case, npl_publn_id with the same patcit_id will be grouped together. Otherwise, the npl_publn_id remains the primary key. Run query and create bq table 1 bq query --replace --use_legacy_sql = false --destination_table <meta-table> --destination_schema schema/frontpage_meta_<primary_key>bq.json $QUERY","title":"`meta - the final word"},{"location":"recipes/#frontpagebibref","text":"","title":"frontpage.bibref"},{"location":"recipes/#grobidcrossref_bibref_","text":"Serialize grobid raw output 1 python cli/patcit_serialize.py grobid-npl <path> --max-workers <max_workers> >> <dest-file>.jsonl Harmonize schema with patcit_bibref 1 ls <dest-file>*.jsonl | parallel -j+0 --eta 'python cli/patcit_serialize.py patcit-bibref {} --src-flavor <grobid/crossref> >> patcit_{.}.jsonl && gzip patcit_{.}.jsonl' Load to BQ 1 bq load --source_format NEWLINE_DELIMITED_JSON --replace --ignore_unknown_values patcit_*.jsonl.gz schema/patcit_bibref.json","title":"grobid/crossref_bibref_"},{"location":"recipes/#bibref","text":"Generate query 1 QUERY = $( python cli/patcit_bq_lip.py front-page-bibref --meta <mate-table> --bibref-grobid <table-grobid-bibref> --bibref-crossref <table-crossref-bibref> ) Run query and create bq table 1 bq query --replace --use_legacy_sql = false --destination_table <bibref-table> --destination_schema schema/frontpage_bibref.json $QUERY Update table (PMID and PMCID) 1 # TODO","title":"bibref"},{"location":"recipes/#cat","text":"1 bq load --source_format = NEWLINE_DELIMITED_JSON --max_bad_records = 100 --ignore_unknown_values --replace --autodetect npl-parsing:external.v03_front_page_wiki gs://patcit_dev/frontpage/wiki_03.jsonl.gz 1 QUERY=$(python patcit/main.py bq front-page-cat --meta npl-parsing.external.v03_front_page_meta_future --cat npl-parsing.external.v03_front_page_wiki) 1 bq query --replace --use_legacy_sql=false --replace --destination_table patcit-public-data:frontpage.wiki --destination_schema schema/frontpage_wiki.json $QUERY","title":"cat"},{"location":"recipes/#in-text","text":"","title":"In text"},{"location":"recipes/#patent","text":"Add publication_number Add patent properties Make sure it is ordered along the primary key Extract table to gs 1 2 3 4 SELECT DISTINCT ( CONCAT ( orgname , original )) AS pubnum FROM ` npl - parsing . patcit . v01_UScontextualPat ` prep table 1 2 3 ls intext_patent_flat_0000000000*.jsonl | parallel -j +0 --eta \"sort {} | uniq >> distinct_{}\" ls distinct_intext_patent_flat_0000000000*.jsonl | parallel -j +0 --eta \"jq -s -c 'group_by(.publication_number_o)[] | {publication_number: .[0].publication_number_o, publication_date: .[0].publication_date_o, appln_id: .[0].appln_id_o, pat_publn_id: .[0].pat_publn_id_o, docdb_family_id: .[0].docdb_family_id_o, inpadoc_family_id: .[0].inpadoc_family_id_o, citation: [ .[] | {country_code: .orgname, original_number: .original, publication_number: .publication_number, publication_date: .publication_date, appln_id: .appln_id, pat_publn_id: .pat_publn_id, docdb_family_id: .docdb_family_id, inpadoc_family_id: .inpadoc_family_id} ]}' {} >> $( sed -e 's/_flat//g' ) && gzip $( sed -e 's/_flat//g' ) \" bq load --source_format = NEWLINE_DELIMITED_JSON --max_bad_records = 100 --ignore_unknown_values --replace patcit-public-data:intext.patent \"gs://patcit_dev/intext/intext_patent*.jsonl.gz\" schema/intext_patent.json","title":"Patent"},{"location":"recipes/#bibref_1","text":"Harmonize format ```shell script patcit serialize patcit-bibref gold_npl_serialized_us_description_post1976_000000000000.jsonl --src-flavor grobid-intext 1 2 3 4 5 6 7 8 9 10 11 - Add bibref score - Select bibref score above a given threshold ```shell script ls npl_*.jsonl | parallel -j 1 --eta \" patcit data bibref-silver-to-gold {} --model ../models/en_cat_bibref_sm >> score_{} && jq -c 'select(.bibref_score>.55)' score_{} >> gold_{}\" ``` - Add identifiers ````shell script ls patcit_gold_npl_serialized_us_description_pre1976_*.jsonl | parallel -j+0 --eta \"mv {} {}_depr && patcit serialize add-identifier {}_depr >> {}\" - Load in BQ. take care to apply excatly the same schema as for patcit_crossref Add patent properties & order 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 WITH bibref AS ( SELECT tmp . * FROM ` npl - parsing . tmp . tmp_ ` AS tmp LEFT JOIN ` npl - parsing . external . patcit_crossref ` AS crossref ON tmp . DOI = crossref . DOI WHERE crossref . DOI IS NULL UNION ALL SELECT tmp . patcit_id , tmp . publication_number_o , 1 AS bibref_score , crossref . * EXCEPT ( npl_publn_id ) FROM ` npl - parsing . tmp . tmp_ ` AS tmp INNER JOIN ` npl - parsing . external . patcit_crossref ` AS crossref ON tmp . DOI = crossref . DOI ) SELECT bibref . * , patstat . * EXCEPT ( publication_number ) FROM bibref LEFT JOIN ` npl - parsing . external . patstat_patent_properties ` AS patstat ON bibref . publication_number_o = patstat . publication_number Order on the grouping key (e.g. patcit_id) Group shell script ls *intext_patcit_bibref*.jsonl.gz | parallel -j 4 --eta \"gunzip {} && jq -s -c 'group_by(.patcit_id)[] | {patcit_id: .[0].patcit_id , bibref_score: .[0].bibref_score, DOI: .[0].DOI, PMCID: .[0].PMCID, PMID: .[0].PMID, ISSN: .[0].ISSN, ISBN: .[0].ISBN, URL: .[0].URL, author: .[0].author, title: .[0].title, journal_title: .[0].journal_title, journal_title_abbrev: .[0].journal_title_abbrev, issue: .[0].issue, volume: .[0].volume, page: .[0].page, date: .[0].date, event: .[0].event, subject: .[0].subject, abstract: .[0].abstract, is_referenced_by_count: .[0].is_referenced_by_count, reference_count: .[0].reference_count, reference_doi: .[0].reference_doi, funder: .[0].funder, institution: .[0].institution, source: .[0].source, cited_by: [ .[] | {publication_number: .publication_number_o, publication_date: .publication_date, appln_id: .appln_id, pat_publn_id: .pat_publn_id, docdb_family_id: .docdb_family_id, inpadoc_family_id: .inpadoc_family_id }], is_cited_by_count: length}' {.} >> prep_{.} && gzip {.} prep_{.}\" load data shell script bq load --source_format=NEWLINE_DELIMITED_JSON --max_bad_records=1000 --replace patcit-public-data:intext.bibliographical_reference \"gs://patcit_dev/intext/prep_*.jsonl\" schema/intext_bibref.json","title":"bibref"},{"location":"roadmap/","text":"Done A detailed presentation of the current state of the project is available in our March 2020 presentation . Front-page Non Patent Literature (NPL) citations \u00b6 Structure the NPL citations into research oriented classes - v0.2-npl and above More 9 exclusive classes: bibliographical reference, office action, patent, webpage, norm & standard, product documentation, database and litigation Classification model available for download in v0.2-npl release Classification model details (labeling guidelines, performance, etc) available in models/npl_class_training Research direction : Improve classifier Parse and consolidate NPL citations based on their categories - beta-npl and above More Supports bibliographical references only (60% of all NPL citations) Validation details available in validation/ Research direction : Extend parsing models to other classes of NPL In-text citations \u00b6 Extract , parse and consolidate in-text patent and NPL citations - beta-intext* and above More Research direction : Validate results and improve model Extract and consolidate in-text entities of interest (software, database, product, chemicals, etc) - unsupported yet","title":"Roadmap"},{"location":"roadmap/#front-page-non-patent-literature-npl-citations","text":"Structure the NPL citations into research oriented classes - v0.2-npl and above More 9 exclusive classes: bibliographical reference, office action, patent, webpage, norm & standard, product documentation, database and litigation Classification model available for download in v0.2-npl release Classification model details (labeling guidelines, performance, etc) available in models/npl_class_training Research direction : Improve classifier Parse and consolidate NPL citations based on their categories - beta-npl and above More Supports bibliographical references only (60% of all NPL citations) Validation details available in validation/ Research direction : Extend parsing models to other classes of NPL","title":"Front-page Non Patent Literature (NPL) citations"},{"location":"roadmap/#in-text-citations","text":"Extract , parse and consolidate in-text patent and NPL citations - beta-intext* and above More Research direction : Validate results and improve model Extract and consolidate in-text entities of interest (software, database, product, chemicals, etc) - unsupported yet","title":"In-text citations"},{"location":"team/","text":"Team \u00b6 Initiators \u00b6 Ga\u00e9tan de Rassenfosse ( @gderasse ) is Assistant Professor Tenure Track in Science & Technology Policy at EPFL (Lausanne, Switzerland). The overarching objective of his research is to provide the policy environment that best addresses the needs of the knowledge economy. Cyril Verluise ( @cverluise ) is a PhD Candidate at the Paris School of Economics and an Affiliate at Coll\u00e8ge de France (Paris, France). His work is an \"attempt to unpack the Innovation black box using data science, one commit at a time\". He is a fierce advocate and a modest contributor of open source. CRediT \u00b6 Role Contributor(s) Conceptualization Ga\u00e9tan de Rassenfosse, Cyril Verluise Data curation Cyril Verluise Formal Analysis Lucas Violon [frontpage-npl] , Cyril Verluise, Lucas Violon [intext-bibref] Funding acquisition Ga\u00e9tan de Rassenfosse, Cyril Verluise Investigation Cyril Verluise Methodology Ga\u00e9tan de Rassenfosse, Cyril Verluise, Tim Simcoe [norms-standards] Project administration Ga\u00e9tan de Rassenfosse, Cyril Verluise Resources EPFL, Coll\u00e8ge de France Software Cyril Verluise Supervision Ga\u00e9tan de Rassenfosse, Cyril Verluise Validation Ga\u00e9tan de Rassenfosse [intext-patent] ,Gabriele Cristelli [intext-patent] , Francesco Gerotto [matching-doi,parsing-bibref] , Kyle Higham [intext-patent] , Cyril Verluise, Lucas Violon [intext-bibref] Visualization Cyril Verluise, Lucas Violon [intext-bibref] Writing \u2013 original draft - Writing \u2013 review & editing - Roles definition at CRediT webpage . Contributors personnal details Contributor Affiliation 2 GitHub account More Gabriele Cristelli EPFL gabricrs Google Scholar Ga\u00e9tan de Rassenfosse EPFL gderasse Academic Website Kyle Higham Hitotsubashi University kylehigham Google Scholar Francesco Gerotto Coll\u00e8ge de France FGer8 - Tim Simcoe Boston University - Academic Website Cyril Verluise Coll\u00e8ge de France cverluise Academic Website Lucas Violon HEC Paris lucas-violon - Thanks \u00b6 We are also thankful to: Domenico Golzio for his constant support @wetherbeei , @kermitt2 , @SuperMayo and @leflix311 for helpful comments The many people who help us shape this project through useful comments shared by emails, twitter and direct interactions Resources \u00b6 Resources needed for this project are kindly provided by the Chair of Innovation and IP Policy at EPFL and the Chair of Economics of Institutions, Innovation and Growth at Coll\u00e8ge de France .","title":"Team"},{"location":"team/#team","text":"","title":"Team"},{"location":"team/#initiators","text":"Ga\u00e9tan de Rassenfosse ( @gderasse ) is Assistant Professor Tenure Track in Science & Technology Policy at EPFL (Lausanne, Switzerland). The overarching objective of his research is to provide the policy environment that best addresses the needs of the knowledge economy. Cyril Verluise ( @cverluise ) is a PhD Candidate at the Paris School of Economics and an Affiliate at Coll\u00e8ge de France (Paris, France). His work is an \"attempt to unpack the Innovation black box using data science, one commit at a time\". He is a fierce advocate and a modest contributor of open source.","title":"Initiators"},{"location":"team/#credit","text":"Role Contributor(s) Conceptualization Ga\u00e9tan de Rassenfosse, Cyril Verluise Data curation Cyril Verluise Formal Analysis Lucas Violon [frontpage-npl] , Cyril Verluise, Lucas Violon [intext-bibref] Funding acquisition Ga\u00e9tan de Rassenfosse, Cyril Verluise Investigation Cyril Verluise Methodology Ga\u00e9tan de Rassenfosse, Cyril Verluise, Tim Simcoe [norms-standards] Project administration Ga\u00e9tan de Rassenfosse, Cyril Verluise Resources EPFL, Coll\u00e8ge de France Software Cyril Verluise Supervision Ga\u00e9tan de Rassenfosse, Cyril Verluise Validation Ga\u00e9tan de Rassenfosse [intext-patent] ,Gabriele Cristelli [intext-patent] , Francesco Gerotto [matching-doi,parsing-bibref] , Kyle Higham [intext-patent] , Cyril Verluise, Lucas Violon [intext-bibref] Visualization Cyril Verluise, Lucas Violon [intext-bibref] Writing \u2013 original draft - Writing \u2013 review & editing - Roles definition at CRediT webpage . Contributors personnal details Contributor Affiliation 2 GitHub account More Gabriele Cristelli EPFL gabricrs Google Scholar Ga\u00e9tan de Rassenfosse EPFL gderasse Academic Website Kyle Higham Hitotsubashi University kylehigham Google Scholar Francesco Gerotto Coll\u00e8ge de France FGer8 - Tim Simcoe Boston University - Academic Website Cyril Verluise Coll\u00e8ge de France cverluise Academic Website Lucas Violon HEC Paris lucas-violon -","title":"CRediT"},{"location":"team/#thanks","text":"We are also thankful to: Domenico Golzio for his constant support @wetherbeei , @kermitt2 , @SuperMayo and @leflix311 for helpful comments The many people who help us shape this project through useful comments shared by emails, twitter and direct interactions","title":"Thanks"},{"location":"team/#resources","text":"Resources needed for this project are kindly provided by the Chair of Innovation and IP Policy at EPFL and the Chair of Economics of Institutions, Innovation and Growth at Coll\u00e8ge de France .","title":"Resources"},{"location":"update/","text":"Updates \u00b6 PatCit is a fast moving and fast improving project. Make sure that you are aware of the project most recent developments. Join our mail diffusion list \u00b6 Enter your email address powered by TinyLetter Expect 1 mail every 2 months. You can unsubscribe at any moment. We won't sell your information, ever. Follow the PatCit project on GitHub \u00b6 : GitHub users can star the project repository. Project updates will be automatically added to their GitHub news feed. : involved users and contributors are also invited to \"watch\" the project repository. They will be notified of releases, conversations, etc.","title":"Updates"},{"location":"update/#updates","text":"PatCit is a fast moving and fast improving project. Make sure that you are aware of the project most recent developments.","title":"Updates"},{"location":"update/#join-our-mail-diffusion-list","text":"Enter your email address powered by TinyLetter Expect 1 mail every 2 months. You can unsubscribe at any moment. We won't sell your information, ever.","title":"Join our mail diffusion list"},{"location":"update/#follow-the-patcit-project-on-github","text":": GitHub users can star the project repository. Project updates will be automatically added to their GitHub news feed. : involved users and contributors are also invited to \"watch\" the project repository. They will be notified of releases, conversations, etc.","title":"Follow the PatCit project on GitHub"},{"location":"versions/","text":"Front-page NPL citations \u00b6 Version Date Features Access v0.3 November 2020 See v0.3 release page . BigQuery , Zenodo v0.2 March 2020 See v0.2-npl release page . BigQuery , Zenodo v0.1 November 2019 Parse and consolidate all (40 million) NPL citations reported in the DOCDB database. BigQuery beta October 2019 Parse and consolidate 100k NPL citations reported in the DOCDB database. Sandbox for data tests and user feedback. BigQuery In-text citations \u00b6 Version Date Features Access v0.3 November 2020 See v0.3 release page . BigQuery , Zenodo v0.1 December 2019 Extract, parse and consolidate patent and bibliographical reference citations for all USPTO patents. BigQuery , Zenodo beta November 2019 Extract, parse and consolidate patent and bibliographical reference citations for 250k US patents. Sandbox for data tests and user feedback. BigQuery Versioning Zenodo versioning starts with v0.2-npl and v0.1-intext . Prior versions of the dataset are available on BigQuery at this point.","title":"Versions"},{"location":"versions/#front-page-npl-citations","text":"Version Date Features Access v0.3 November 2020 See v0.3 release page . BigQuery , Zenodo v0.2 March 2020 See v0.2-npl release page . BigQuery , Zenodo v0.1 November 2019 Parse and consolidate all (40 million) NPL citations reported in the DOCDB database. BigQuery beta October 2019 Parse and consolidate 100k NPL citations reported in the DOCDB database. Sandbox for data tests and user feedback. BigQuery","title":"Front-page NPL citations"},{"location":"versions/#in-text-citations","text":"Version Date Features Access v0.3 November 2020 See v0.3 release page . BigQuery , Zenodo v0.1 December 2019 Extract, parse and consolidate patent and bibliographical reference citations for all USPTO patents. BigQuery , Zenodo beta November 2019 Extract, parse and consolidate patent and bibliographical reference citations for 250k US patents. Sandbox for data tests and user feedback. BigQuery Versioning Zenodo versioning starts with v0.2-npl and v0.1-intext . Prior versions of the dataset are available on BigQuery at this point.","title":"In-text citations"},{"location":"vocabulary/","text":"Accuracy \u00b6 Accuracy 1 is one metric for evaluating classification models. Informally, accuracy is the fraction of predictions our model got right. Formally, accuracy has the following definition: \\[ Accuracy=\\frac{Number~of~correct~predictions}{Total~number~of~predictions} \\] Consolidate \u00b6 Match the standardized bibliographical attributes with high quality bibliographical databases. Enrich the final output with additional attributes such as the DOI, the PMID and the open access url inter allia. In practice Let's consider the following free-form NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843.\" Matching it with Crossref, we can consolidate the bibliographical attributes found in the text with the following enriched attributes: Article title : \"Activity and Stability of Enzymes Incorporated into Acrylic Polymers\" Journal title : Journal of the American Chemical Society DOI : 10.1021/ja00122a014 `ISSN: 0002-7863 Crossref \u00b6 Crossref interlinks millions of items from a variety of content types, including journals, books, conference proceedings, working papers, technical reports, and data sets. Linked content includes materials from Scientific, Technical and Medical (STM) and Social Sciences and Humanities (SSH) disciplines. EPO worldwide bibliographic data (DOCDB) \u00b6 The EPO worldwide bibliographic data 3 includes bibliographic data from over 90 countries worldwide. The data goes back as far as the 1830s for some patent authorities. Digital Object Identifier (DOI) \u00b6 A digital object identifier (DOI) is a persistent identifier or handle used to identify objects uniquely, standardized by the International Organization for Standardization (ISO). DOIs are in wide use mainly to identify academic, professional, and government information, such as journal articles, research reports and data sets inter allia . Publisher quality bibliographical attributes can be retrieved from the DOI. Extract \u00b6 Detect and stage entity, NPL and patent citations in plain text documents. In practice Let's consider an excerpt from US-5914367-A : \"Another disadvantage of this process is that such modified enzymes usually show low solubility in organic solvents, thereby limiting the enzyme loading to about 0.02% by weight in the final polymer products. Sea Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843. The solubilized enzyme of this process also shows lower activity (...)\" The NPL extraction task consists in detecting and staging the following NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843\" Non Patent Literature (NPL) \u00b6 Any literature which is publicly available and not a patent or a pending/expired publication in a patent office can be an NPL. Parse \u00b6 Structure a free-form NPL or patent citations into standard bibliographic attributes (e.g. title, authors, journal, etc) In practice Let's consider the following free-form NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843.\" The parsing task consists in structuring this sequence into the following standardized bibliographical attributes: `Authors: Z. Yang, D. Williams, A. J. Russell Journal : J. Am. Chem. Soc. Date : 1995 Volume : 117 Page : 4843 Precision \u00b6 Precision 2 attempts to answer the following question: \"What proportion of positive identifications was actually correct?\". Formerly, precision is defined as: \\[ Precision = \\frac{True~Positive}{True~Positive + False~Positive} \\] PubMed \u00b6 PubMed is a free search engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics. More at https://developers.google.com/machine-learning/crash-course/classification/accuracy \u21a9 More at https://developers.google.com/machine-learning/crash-course/classification/precision-and-recall \u21a9 More at https://www.epo.org/searching-for-patents/data/bulk-data-sets/docdb.html#tab-1 \u21a9","title":"Vocabulary"},{"location":"vocabulary/#accuracy","text":"Accuracy 1 is one metric for evaluating classification models. Informally, accuracy is the fraction of predictions our model got right. Formally, accuracy has the following definition: \\[ Accuracy=\\frac{Number~of~correct~predictions}{Total~number~of~predictions} \\]","title":"Accuracy"},{"location":"vocabulary/#consolidate","text":"Match the standardized bibliographical attributes with high quality bibliographical databases. Enrich the final output with additional attributes such as the DOI, the PMID and the open access url inter allia. In practice Let's consider the following free-form NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843.\" Matching it with Crossref, we can consolidate the bibliographical attributes found in the text with the following enriched attributes: Article title : \"Activity and Stability of Enzymes Incorporated into Acrylic Polymers\" Journal title : Journal of the American Chemical Society DOI : 10.1021/ja00122a014 `ISSN: 0002-7863","title":"Consolidate"},{"location":"vocabulary/#crossref","text":"Crossref interlinks millions of items from a variety of content types, including journals, books, conference proceedings, working papers, technical reports, and data sets. Linked content includes materials from Scientific, Technical and Medical (STM) and Social Sciences and Humanities (SSH) disciplines.","title":"Crossref"},{"location":"vocabulary/#epo-worldwide-bibliographic-data-docdb","text":"The EPO worldwide bibliographic data 3 includes bibliographic data from over 90 countries worldwide. The data goes back as far as the 1830s for some patent authorities.","title":"EPO worldwide bibliographic data (DOCDB)"},{"location":"vocabulary/#digital-object-identifier-doi","text":"A digital object identifier (DOI) is a persistent identifier or handle used to identify objects uniquely, standardized by the International Organization for Standardization (ISO). DOIs are in wide use mainly to identify academic, professional, and government information, such as journal articles, research reports and data sets inter allia . Publisher quality bibliographical attributes can be retrieved from the DOI.","title":"Digital Object Identifier (DOI)"},{"location":"vocabulary/#extract","text":"Detect and stage entity, NPL and patent citations in plain text documents. In practice Let's consider an excerpt from US-5914367-A : \"Another disadvantage of this process is that such modified enzymes usually show low solubility in organic solvents, thereby limiting the enzyme loading to about 0.02% by weight in the final polymer products. Sea Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843. The solubilized enzyme of this process also shows lower activity (...)\" The NPL extraction task consists in detecting and staging the following NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843\"","title":"Extract"},{"location":"vocabulary/#non-patent-literature-npl","text":"Any literature which is publicly available and not a patent or a pending/expired publication in a patent office can be an NPL.","title":"Non Patent Literature (NPL)"},{"location":"vocabulary/#parse","text":"Structure a free-form NPL or patent citations into standard bibliographic attributes (e.g. title, authors, journal, etc) In practice Let's consider the following free-form NPL citation: \"Z. Yang, D. Williams, and A. J. Russell, J. Am. Chem. Soc., 1995, vol. 117, 4843.\" The parsing task consists in structuring this sequence into the following standardized bibliographical attributes: `Authors: Z. Yang, D. Williams, A. J. Russell Journal : J. Am. Chem. Soc. Date : 1995 Volume : 117 Page : 4843","title":"Parse"},{"location":"vocabulary/#precision","text":"Precision 2 attempts to answer the following question: \"What proportion of positive identifications was actually correct?\". Formerly, precision is defined as: \\[ Precision = \\frac{True~Positive}{True~Positive + False~Positive} \\]","title":"Precision"},{"location":"vocabulary/#pubmed","text":"PubMed is a free search engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics. More at https://developers.google.com/machine-learning/crash-course/classification/accuracy \u21a9 More at https://developers.google.com/machine-learning/crash-course/classification/precision-and-recall \u21a9 More at https://www.epo.org/searching-for-patents/data/bulk-data-sets/docdb.html#tab-1 \u21a9","title":"PubMed"}]}